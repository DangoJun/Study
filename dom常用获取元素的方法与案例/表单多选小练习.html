<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表单多选</title>
    <style>
        table{
            margin: 0 auto;
            margin-top: 50px;
        }
        thead{
            background-color: skyblue;
            text-align: left;
        }
        thead th{
            width: 70px;
            height: 30px;
        }
    </style>
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="j_cbAll">
                </th>
                <th>商品</th>
                <th>价钱</th>
            </tr>
            <tbody id="j_tb">
                <tr>
                    <td><input type="checkbox"></td>
                    <td>iphone8</td>
                    <td>8000</td>
                </tr>
                <tr>
                    <td><input type="checkbox"></td>
                    <td>ipad Pro</td>
                    <td>5000</td>
                </tr>
                <tr>
                    <td><input type="checkbox"></td>
                    <td>ipad Air</td>
                    <td>2000</td>
                </tr>
                <tr>
                    <td><input type="checkbox"></td>
                    <td>Apple Watch</td>
                    <td>2000</td>
                </tr>
            </tbody>
        </thead>
    </table>
</body>
<script>
    // 1.全选和取消全选的做法: 让下面所有复选框的checked属性(选中状态) 跟随 全选按钮即可
    var j_cbAll = document.getElementById('j_cbAll');
    // 选中tbady 的全部input
    var j_tds = document.getElementById('j_tb').getElementsByTagName('input')
    //注册事件
    j_cbAll.onclick = function(){
        // 可以得到当前的选中状态
        console.log(this.checked);
        for(var i =0; i < j_tds.length;i++){
            j_tds[i].checked = this.checked;
        }   
        // 下面的复选框全部选中主选框才会选中，全部取消主选框取消
        for(var i =0;i<j_tds.length;i++){
            j_tds[i].onclick = function(){
                // 每次点击下面的复选框
                var flag = true;
                for(var i =0; i< j_tds.length;i++){
                    if(!j_tds[i].checked){
                        flag = false;
                        break;
                    }
                }
                j_cbAll.checked = flag;
            }
        }
    }
</script>
</html>
